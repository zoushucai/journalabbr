% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/get_abbrtable.R
\name{get_abbrtable}
\alias{get_abbrtable}
\title{Create an abbreviation table by merging user-provided and system tables}
\usage{
get_abbrtable(user_table = NULL, use_sys_table = TRUE)
}
\arguments{
\item{user_table}{A user-provided abbreviation table. It can be a file path (string), a \code{data.frame},
or a \code{data.table}. The table must contain columns \code{journal_lower} and \code{journal_abbr}. Default is \code{NULL}.}

\item{use_sys_table}{Logical. Whether to include the system abbreviation table (\code{abbrtable_sys})
in the merged result. Default is \code{TRUE}.}
}
\value{
A \code{data.table} containing the merged abbreviation table, with any duplicates (by \code{journal_lower}) removed.
The resulting table contains two columns: \code{journal_lower} and \code{journal_abbr}.
}
\description{
This function processes a user-provided abbreviation table and optionally merges it with a system abbreviation table.
The user table can be provided as a file path, \code{data.frame}, or \code{data.table}.
The system table is included by default but can be excluded.
}
\details{
The function first processes the user-provided table by checking its type:
\itemize{
\item If it's a file path, it reads the file using \code{data.table::fread}.
\item If it's a \code{data.frame}, it is converted to a \code{data.table}.
\item If it's already a \code{data.table}, no conversion is needed.
}

After processing the user table, the system table (\code{abbrtable_sys}) is optionally included in the final merged table.
Duplicate entries based on \code{journal_lower} are removed.
}
\examples{
# Example 1: Provide a user table as a CSV file path and merge with system table
user_table_path <- system.file("extdata", "myabbr.csv", package = "journalabbr", mustWork = TRUE)
abbr_table <- get_abbrtable(user_table = user_table_path, use_sys_table = TRUE)

# Example 2: Provide a user table as a data.frame
user_df <- data.frame(journal_lower = c("example journal", "sample journal"),
                      journal_abbr = c("EJ", "SJ"))
abbr_table <- get_abbrtable(user_table = user_df, use_sys_table = FALSE)

# Example 3: Use only the system table
abbr_table <- get_abbrtable(use_sys_table = TRUE)

abbr_table <- get_abbrtable(user_table=NULL, use_sys_table = FALSE)
}
